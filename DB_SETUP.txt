DROP TABLE IF EXISTS LOGIN;
CREATE TABLE LOGIN (username TEXT PRIMARY KEY NOT NULL, userID TEXT NOT NULL,
                   FOREIGN KEY (userID) REFERENCES AUTH (userID),
                   FOREIGN KEY (username) REFERENCES USER (username));


DROP TABLE IF EXISTS AUTH;
CREATE TABLE AUTH (userID TEXT PRIMARY KEY NOT NULL, secretKey TEXT NOT NULL,
                  FOREIGN KEY (userID) REFERENCES USER (userID),
                  FOREIGN KEY (secretKey) REFERENCES USER (secretKey));

DROP TABLE IF EXISTS USER;
CREATE TABLE USER (userID TEXT PRIMARY KEY NOT NULL, username TEXT NOT NULL, secretKey TEXT NOT NULL,
                  FOREIGN KEY (username) REFERENCES LOGIN (username),
                  FOREIGN KEY (userID) REFERENCES AUTH (userID),
                  FOREIGN KEY (secretKey) REFERENCES AUTH (secretKey));

------------------------------
DROP TABLE IF EXISTS WORKOUT;
CREATE TABLE WORKOUT (workoutID TEXT PRIMARY KEY NOT NULL, userID TEXT NOT NULL, createdByID TEXT NOT NULL,
                      workoutName TEXT NOT NULL, state TEXT NOT NULL, modified INT NOT NULL,
                      timeStarted REAL NOT NULL, timeCompleted REAL NOT NULL, totalTime REAL NOT NULL,
                      -- consider downward referencing eg: list of exercises
                      FOREIGN KEY (userID) REFERENCES USER (userID),
                      FOREIGN KEY (createdByID) REFERENCES USER (userID));

------------------------------
DROP TABLE IF EXISTS EXERCISE;
CREATE TABLE EXERCISE (exerciseID TEXT PRIMARY KEY NOT NULL, workoutID TEXT NOT NULL, exerciseTypeID TEXT NOT NULL,
                       userID TEXT NOT NULL, createdByID TEXT NOT NULL, state TEXT NOT NULL,
                       timeStarted REAL NOT NULL, timeCompleted REAL NOT NULL, totalTime REAL NOT NULL,

                       FOREIGN KEY (workoutID) REFERENCES WORKOUT (workoutID),
                       FOREIGN KEY (exerciseTypeID) REFERENCES EXERCISE_TYPE (exerciseTypeID),
                       FOREIGN KEY (userID) REFERENCES USER (userID),
                       FOREIGN KEY (createdByID) REFERENCES USER (userID));
------------------------------
DROP TABLE IF EXISTS 'SET';
CREATE TABLE 'SET' (setID TEXT PRIMARY KEY NOT NULL, exerciseID TEXT NOT NULL,
                    weight REAL, reps INT, setNumber INT, timeSeconds REAL,
                    setType TEXT NOT NULL, state TEXT NOT NULL,
                    timeStarted REAL NOT NULL, timeCompleted REAL NOT NULL, totalTime REAL NOT NULL,

                    FOREIGN KEY (exerciseID) REFERENCES EXERCISE (exerciseID));
---------------------------------
DROP TABLE IF EXISTS EXERCISE_TYPE;
CREATE TABLE EXERCISE_TYPE (exerciseTypeID TEXT PRIMARY KEY NOT NULL, exerciseName TEXT NOT NULL,
                            exerciseDescription TEXT NOT NULL, exerciseCategory TEXT NOT NULL,
                            exerciseMuscleGroup TEXT NOT NULL)
---------------------------------
--END OF FILE